<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alby | Albion 2026 Community Hub</title>
    <style>
        :root {
            --albion-purple: #4b0082;
            --albion-gold: #ffd700;
            --bg-gray: #f4f4f9;
            --card-white: #ffffff;
            --text-dark: #2d2d2d;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-gray);
            margin: 0;
            color: var(--text-dark);
            line-height: 1.6;
        }

        header {
            background-color: var(--albion-purple);
            color: white;
            padding: 3rem 1rem;
            text-align: center;
            border-bottom: 6px solid var(--albion-gold);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        header h1 { margin: 0; font-size: 3.5rem; letter-spacing: 2px; }
        .live-tag { color: var(--albion-gold); font-weight: bold; text-transform: uppercase; font-size: 0.9rem; margin-bottom: 10px; display: block; }

        .container { max-width: 1000px; margin: 0 auto; padding: 2rem 1rem; }

        /* TALK TO ALBY CHAT */
        .alby-chat {
            background: var(--card-white);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 3rem;
            border: 2px solid var(--albion-gold);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-header { display: flex; align-items: center; gap: 15px; }
        .alby-avatar { 
            background: var(--albion-purple); 
            color: white; 
            width: 50px; 
            height: 50px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 24px; 
        }

        /* Typing Dots Animation */
        @keyframes blink { 0% { opacity: 0; } 50% { opacity: 1; } 100% { opacity: 0; } }
        .dot { animation: blink 1s infinite; }
        .dot2 { animation: blink 1s infinite 0.2s; }
        .dot3 { animation: blink 1s infinite 0.4s; }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 1.5rem 0;
        }

        .card {
            background: var(--card-white);
            border: 1px solid #e1e1e1;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }

        .card:hover { transform: translateY(-5px); border-color: var(--albion-purple); }
        .card h3 { margin-top: 0; color: var(--albion-purple); }

        .btn {
            display: inline-block;
            background: var(--albion-purple);
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 0.9rem;
            text-align: center;
            margin-top: 10px;
        }
        
        .chat-btn { width: 100%; border: none; cursor: pointer; padding: 15px; font-size: 1rem; }
        .emergency-btn { background: #b22222; width: 100%; box-sizing: border-box; }

        h2 {
            color: var(--albion-purple);
            border-left: 5px solid var(--albion-gold);
            padding-left: 15px;
            margin-top: 3rem;
            text-transform: uppercase;
            font-size: 1.2rem;
        }

        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1rem;
            box-sizing: border-box; 
            font-family: inherit;
        }

        footer { text-align: center; padding: 5rem 1rem; color: #888; font-size: 0.9rem; }
    </style>
</head>
<body>

<header>
    <span class="live-tag">‚óè Live Community Hub</span>
    <h1>ALBY</h1>
    <p>Official 2026 Resource Hub for Albion, NY</p>
</header>

<div class="container">
    
    <div class="alby-chat" id="chat-hub">
        <div class="chat-header">
            <div class="alby-avatar">ü§ñ</div>
            <div>
                <h2 style="margin:0; border:none; padding:0; color:#333;">Talk to Alby</h2>
                <small id="status-text" style="color:#666;">Online | Standing by for Albion</small>
            </div>
        </div>
        
        <form id="alby-form" action="https://formspree.io/f/meekblgl" method="POST">
            <textarea name="message" id="user-input" rows="3" placeholder="Hi Alby! Where can I find help with heating bills?" required></textarea>
            <button type="submit" class="btn chat-btn" id="send-btn">Send Message</button>
        </form>

        <div id="alby-typing" style="display:none; color: var(--albion-purple); font-weight: bold; font-style: italic;">
            Alby is typing<span class="dot">.</span><span class="dot2">.</span><span class="dot3">.</span>
        </div>

        <div id="alby-reply" style="display:none; padding:15px; background:#f0f7ff; border-radius:12px; border-left:5px solid var(--albion-gold);">
            <strong style="color:var(--albion-purple);">Alby:</strong> <span id="reply-text"></span>
        </div>
    </div>

    <h2>üö® Emergency & Local Safety</h2>
    <div class="grid">
        <div class="card">
            <h3>Immediate Response</h3>
            <p>For life-threatening emergencies, fires, or crimes in progress.</p>
            <a href="tel:911" class="btn emergency-btn">CALL 911</a>
        </div>
        <div class="card">
            <h3>Albion Police Dept</h3>
            <p>Non-emergency dispatch and local law enforcement assistance.</p>
            <a href="tel:5855893000" class="btn">Call (585) 589-3000</a>
        </div>
    </div>

    <h2>üçé Food & Essential Services</h2>
    <div class="grid">
        <div class="card">
            <h3>Albion Food Pantry</h3>
            <p>411 E. State St. Mon-Fri 9am-4pm. Please bring a valid ID.</p>
        </div>
        <div class="card">
            <h3>Ministry of Concern</h3>
            <p>121 N. Main St. Furniture, emergency help, and essential support.</p>
            <a href="tel:5855899210" class="btn">Call (585) 589-9210</a>
        </div>
        <div class="card">
            <h3>HEAP Assistance</h3>
            <p>Heating help: Requires ID, 30 days income, Utility bill, and SS cards.</p>
            <a href="https://otda.ny.gov/programs/heap/" target="_blank" class="btn">Apply Online</a>
        </div>
    </div>

    <h2>üè† Housing & Employment</h2>
    <div class="grid">
        <div class="card">
            <h3>Emergency Housing</h3>
            <p>PathStone: (585) 589-7027<br>DSS Emergency: (585) 589-7000</p>
        </div>
        <div class="card">
            <h3>Job Development</h3>
            <p>Orleans County Job Development on East State St.</p>
            <a href="tel:5855892772" class="btn">Call (585) 589-2772</a>
        </div>
    </div>

    <footer>
        <p>¬© 2026 Alby for Albion, NY.</p>
        <p>Built with üíú right here in <strong>Albion</strong>.</p>
    </footer>
</div>

<script>
    const form = document.getElementById('alby-form');
    const typing = document.getElementById('alby-typing');
    const reply = document.getElementById('alby-reply');
    const replyText = document.getElementById('reply-text');
    const statusText = document.getElementById('status-text');

    const albyLines = [
        "I've got you. I'm routing this to the Albion Hub right now. We'll look into this for you, neighbor!",
        "Message received! I'm making sure the right people in town see this. The Spirit of Hope is on it!",
        "Got it! I've sent your request to our team. Hang tight while we get things moving for you.",
        "I hear you loud and clear. I'm passing this to the staff at the Hub immediately!"
    ];

    form.onsubmit = async (e) => {
        e.preventDefault();
        const data = new FormData(form);
        
        form.style.display = 'none';
        typing.style.display = 'block';
        statusText.innerText = "Alby is thinking...";

        fetch(form.action, {
            method: 'POST',
            body: data,
            headers: { 'Accept': 'application/json' }
        });

        setTimeout(() => {
            typing.style.display = 'none';
            reply.style.display = 'block';
            statusText.innerText = "Message Delivered";
            replyText.innerText = albyLines[Math.floor(Math.random() * albyLines.length)];
        }, 3000);
    };
</script>

</body>
</html>
